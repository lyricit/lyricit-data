{
    "settings" : {
        "analysis" : {
            "analyzer" : {
                "lyricit_analyzer" : {
                    "type" : "custom",
                    "tokenizer" : "nori_tokenizer",
                    "char_filter" : ["html_strip"],
                    "filter" : ["lowercase", "whitespace_remove"]
                }
            },
            "filter" : {
                "whitespace_remove" : {
                    "type" : "pattern_replace",
                    "pattern" :  "[^\\p{L}\\p{N}\\s]+",
                    "replacement" : ""
                }
            }
        }
        
    },
    "mappings" : {
        "properties" : {
            "code" : {"type" : "keyword"},
            "title" : {"type" : "text"},
            "artist" : {"type" : "text"},
            "spotify_info" : {
                "type" : "object",
                "properties" : {
                    "id" : {"type" : "text"},
                    "title" : {"type" : "text"},
                    "artist" : {"type" : "text"},
                    "preview_play_url" : {"type" : "text"},
                    "album_url" : {"type" : "object"},
                    "popularity" : {"type" : "integer"}
                }
            },
            "lyrics" : {
                "type" : "text",
                "analyzer" : "lyricit_analyzer",
                "fielddata" : true
            }
        }
    }
}